## pandas利用したデータ集計・加工勉強メモ
### 2025/05/08

## pandasとは
### データ集計・加工ができるPythonのライブラリ。データの読み込み・表示・整形・欠損状態の確認・データの書き出し・・・ができる。

## Series（シリーズ）型:
### pandasライブラリで使われる「1次元のデータ構造」と呼ばれる。ざっくり言うと「ラベル付きの配列（リスト）」のような形の表ができる。

## DataFrame型：
### 複数のSeries型データを集めて、表（テーブル）にしたもの
### 書き方

    data = {

      '名前': ['ランラン', 'タマ', 'ポチ'],
    
      '年齢': [5, 4, 3],

    }

    df = pd.DataFrame(data)

    print(df)

### dataの部分：　dict（辞書型）　ここはまだただの「データ」であって、DataFrameではない。ただし、pandasがDataFrameを作るための元ネタとしてよく使う形なので、まずデータをこの形に整形する。
### dfの部分：　DataFrameを指す。これを定義することで初めてpandasの2次元の表形式データが表示できる。本当に「表」として扱え、インデックス・列・集計・検索など可能となる。

| 用語         | 中身             | 表示方法         |
| ---------- | -------------- | ------------ |
| 行（index）   | 0, 1, 2（自動でつく） | `df.index`   |
| 列（columns） | '名前', '年齢'     | `df.columns` |

## 2025/5/10 

## 特定の行のデータの取り出し
| 指定                  | 意味                      |
| ------------------- | ----------------------- |
| `df.iloc[2:4]`      | 行の2〜3行目（インデックス2, 3）     |
| `df.iloc[:, 0:2]`   | 全行のうち、0〜1列目（インデックス0, 1） |
| `df.iloc[2:4, 0:2]` | 行と列の両方を同時に指定            |

## データの連結(2つのデータフレームを縦に連結する)
#### .concat([連結データ１, 連結データ2], ignore_index=true)
#### data = pd.concat([data, e_data], ignore_index=True)

## データのインデックスリセット
#### data = data.reset_index(drop=True)

## 2025/5/12
#### 条件抽出文復習　
#### ここからはdataをdf（Data frame化）した前提で進める
| やりたいこと | 例 | 書き方 |
|-------------|---------------|---------|
| 特定の条件に合う行だけ抽出　（基本形）|　df[条件]| |
| 特定の値以上のデータを抽出する|「国語」の点数が70点以上のレコードを抽出したい場合 | df[df['国語'] >= 70] |
|特定の条件に合致するレコードが何件あるかを数える|「国語」の点数が60点の人のレコードをカウント | target = 　df[df['国語'] == 60]でレコードを特定した後に、len[]でカウント。ここではlen[target]とすればカウント結果がわかる。len(df[df['国語'] == 60])|
| | | 別の書き方： .shapeを使う。shape[0]と書けば、対象の行数だけを取り出す書き方になる。（ちなみにshape[1]は列数を返す）|

* 1行で書く場合はlen(df[df['国語'] == 60])となる（dfが2回登場。データ抽出→行数抽出と2ステップ踏んでるから）

