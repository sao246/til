## AWSで使われる基本的なストレージの種類と使い分けを理解する

### EBSとインスタンスストア:
#### EC2のストレージとして使われるのは大きく「EBS」「インスタンスストア」の二種類だがそれぞれ、EC2に対してどのように使われるかは以下のようになる。

| 項目                | EBS（Elastic Block Store）             | インスタンスストア（Instance Store）            |
| ----------------- | ------------------------------------ | ------------------------------------ |
| **概要**  | ネットワーク接続のブロックストレージ。EC2にアタッチして使う。  | EC2インスタンスに直接接続されている物理ディスク（ローカルストレージ） |
| **データ永続性** | 永続的＝EC2が停止してもデータを残せる（設定次第）スナップショットでバックアップも可 | 揮発性であるため、EC2停止または終了にデータが消える |
| **接続方式** | ネットワーク越しに接続（EBSボリュームとして） | インスタンスに直結（ローカルディスク扱い） |
| **パフォーマンス** | 高いがインスタンスストアよりはやや遅いこともあるらしい | 超高速（物理的に直結しているため） |
| **容量変更・スナップショット** | 容量変更可能、スナップショットでバックアップや復元が可能 | 容量変更不可、スナップショット不可 |
| **利用用途** | OS起動ディスクやデータベースなどの永続保存が必要な用途 | キャッシュや一時ファイル、再現可能なデータの高速処理など |
| **耐障害性** | インスタンス障害時もデータが残る | インスタンス障害や停止でデータ消失 |

#### これらの整理から、一般的にEC2のメインのストレージとして基本使われるのはEBSということ。

#### もう一度まとめ
* EBSはメインストレージとして使われる。
理由は、
    * EC2を停止・再起動してもデータが消えない。（設定必要）
    * バックアップ（スナップショット）を取れるので、障害時の復旧も簡単に行える
    * 容量の変更やパフォーマンスの調整もできるから、用途に合わせて柔軟に使える。
    * OSの起動ディスク（ルートボリューム）としても標準的に使われている。

#### 重要なデータはインスタンスストアではなく、必ずEBSやS3（後述）などに保存する。
-------

